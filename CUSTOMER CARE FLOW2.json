{
  "Version": "2019-10-30",
  "StartAction": "checking queue",
  "Metadata": {
    "entryPointPosition": {
      "x": -185.6,
      "y": 24
    },
    "ActionMetadata": {
      "Thanks for calling": {
        "position": {
          "x": 1752,
          "y": 179.2
        },
        "isFriendlyName": true
      },
      "callback queue": {
        "position": {
          "x": 1440,
          "y": 120
        },
        "isFriendlyName": true
      },
      "settings agents in sales queue": {
        "position": {
          "x": 266.4,
          "y": 333.6
        },
        "isFriendlyName": true,
        "dynamicParams": []
      },
      "stting call back number": {
        "position": {
          "x": 1158.4,
          "y": 64
        },
        "isFriendlyName": true
      },
      "827957ad-1998-4c9a-a35c-dae10816b322": {
        "position": {
          "x": 999.2,
          "y": 434.4
        }
      },
      "selecting for a call back": {
        "position": {
          "x": 927.2,
          "y": 32.8
        },
        "isFriendlyName": true,
        "conditionMetadata": [
          {
            "id": "d94133a1-6b4a-42a9-b860-0abe79d43d06",
            "value": "1"
          }
        ]
      },
      "Setting Agents in Tecnical support Queue": {
        "position": {
          "x": 336,
          "y": 20
        },
        "isFriendlyName": true,
        "dynamicParams": []
      },
      "Queues waiting loop": {
        "position": {
          "x": 660,
          "y": 36.8
        },
        "isFriendlyName": true,
        "parameters": {
          "InterruptFrequencySeconds": {
            "unit": 1
          }
        },
        "audio": [],
        "timeoutUnit": {
          "value": "sec"
        }
      },
      "error play prompt": {
        "position": {
          "x": 560,
          "y": 357.6
        },
        "isFriendlyName": true
      },
      "checking queue": {
        "position": {
          "x": 16.8,
          "y": 92
        },
        "isFriendlyName": true,
        "conditions": [],
        "conditionMetadata": [
          {
            "id": "b0e56871-bf07-4e6d-ab3a-7e01f8ef4759",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "sales queue"
          },
          {
            "id": "420e36a8-b485-4fec-aba0-6a166831e41b",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Tehnical support queue"
          },
          {
            "id": "617cd7c9-6c54-4720-8e88-684bb2800012",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "customer care"
          }
        ]
      },
      "SETTING AGENT IN CUSTOMER CARE QUEUE": {
        "position": {
          "x": 34.4,
          "y": 457.6
        },
        "isFriendlyName": true,
        "dynamicParams": []
      }
    },
    "Annotations": [],
    "name": "CUSTOMER CARE FLOW2",
    "description": "",
    "type": "customerQueue",
    "status": "PUBLISHED",
    "hash": {}
  },
  "Actions": [
    {
      "Parameters": {
        "Text": "thanks for calling us"
      },
      "Identifier": "Thanks for calling",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
        "Errors": [
          {
            "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "RetryDelaySeconds": "120",
        "InitialCallDelaySeconds": "9",
        "MaximumConnectionAttempts": "1"
      },
      "Identifier": "callback queue",
      "Type": "CreateCallbackContact",
      "Transitions": {
        "NextAction": "Thanks for calling",
        "Errors": [
          {
            "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "agent name": "Sales Agent"
        },
        "TargetContact": "Current"
      },
      "Identifier": "settings agents in sales queue",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "Queues waiting loop",
        "Errors": [
          {
            "NextAction": "error play prompt",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "CallbackNumber": "$.CustomerEndpoint.Address"
      },
      "Identifier": "stting call back number",
      "Type": "UpdateContactCallbackNumber",
      "Transitions": {
        "NextAction": "callback queue",
        "Errors": [
          {
            "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
            "ErrorType": "InvalidCallbackNumber"
          },
          {
            "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
            "ErrorType": "CallbackNumberNotDialable"
          }
        ]
      }
    },
    {
      "Parameters": {},
      "Identifier": "827957ad-1998-4c9a-a35c-dae10816b322",
      "Type": "DisconnectParticipant",
      "Transitions": {}
    },
    {
      "Parameters": {
        "StoreInput": "False",
        "InputTimeLimitSeconds": "5",
        "Text": "thanks for callimg please press 1 if you want to call back"
      },
      "Identifier": "selecting for a call back",
      "Type": "GetParticipantInput",
      "Transitions": {
        "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
        "Conditions": [
          {
            "NextAction": "stting call back number",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "1"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
            "ErrorType": "InputTimeLimitExceeded"
          },
          {
            "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
            "ErrorType": "NoMatchingCondition"
          },
          {
            "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "Agent number": "technical agent"
        },
        "TargetContact": "Current"
      },
      "Identifier": "Setting Agents in Tecnical support Queue",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "Queues waiting loop",
        "Errors": [
          {
            "NextAction": "error play prompt",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Messages": [
          {
            "Text": "Thank you for calling. Your call is very important to us and will be answered in the order it was received$Attribute AgentName"
          }
        ],
        "InterruptFrequencySeconds": "20"
      },
      "Identifier": "Queues waiting loop",
      "Type": "MessageParticipantIteratively",
      "Transitions": {
        "NextAction": "error play prompt",
        "Conditions": [
          {
            "NextAction": "selecting for a call back",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "MessagesInterrupted"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "error play prompt",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "invalid option"
      },
      "Identifier": "error play prompt",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
        "Errors": [
          {
            "NextAction": "827957ad-1998-4c9a-a35c-dae10816b322",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "ComparisonValue": "$.Queue.Name"
      },
      "Identifier": "checking queue",
      "Type": "Compare",
      "Transitions": {
        "NextAction": "error play prompt",
        "Conditions": [
          {
            "NextAction": "settings agents in sales queue",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "sales queue"
              ]
            }
          },
          {
            "NextAction": "Setting Agents in Tecnical support Queue",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Tehnical support queue"
              ]
            }
          },
          {
            "NextAction": "SETTING AGENT IN CUSTOMER CARE QUEUE",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "customer care"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "error play prompt",
            "ErrorType": "NoMatchingCondition"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "Agent name": "customer care "
        },
        "TargetContact": "Current"
      },
      "Identifier": "SETTING AGENT IN CUSTOMER CARE QUEUE",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "Queues waiting loop",
        "Errors": [
          {
            "NextAction": "error play prompt",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    }
  ]
}